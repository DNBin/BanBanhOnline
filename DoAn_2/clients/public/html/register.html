
<!doctype html>
<html lang="en">
   <head>
      <!-- Required meta tags -->
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <title>Website Bánh Ngọt ABC</title>
      <meta name="description" content="VideoS">
      <link rel="shortcut icon" type="image/x-icon" href="favicon.png">
      <link rel="apple-touch-icon" href="favicon.png">
      <!-- Bootstrap CSS -->
      <link rel="stylesheet" href="/css/bootstrap.min.css">
      <!-- Typography CSS -->
      <!-- <link rel="stylesheet" href="assets/css/typography.css"> -->
      <!-- Style CSS -->
      <link rel="stylesheet" href="/css/style.css">
      <!-- Responsive CSS -->
      <!-- <link rel="stylesheet" href="assets/css/responsive.css"> -->
   </head>
   <body>
      <!-- loader Start -->
      <div id="loading">
         <div id="loading-center">
         </div>
      </div>
      <video autoplay muted loop id="myVideo">
         <source src="/Sun.mp4" type="video/mp4">
       </video>
       <style>
          #myVideo {
            position: fixed;
            right: 0;
            bottom: 0;
            width:100%;
            }
       </style>
      <!-- loader END -->
        <!-- Sign in Start -->
        
        <section class="sign-in-page">
         <div class="container">
            <div class="row justify-content-center align-items-center height-self-center">
               <div style="    margin-top: 10px;
               margin-bottom: 10px;" class=" align-self-center col-md-12 col-lg-7 form-padding">
                  <div style="border-radius: 20px;" class="sign-user_card ">                    
                     <div class="sign-in-page-data">
                        <div class="sign-in-from w-100 m-auto">
                           <form class="row" action="/signup" method="POST">
                            <!-- <% if (message.length> 0) { %>
                                <div class="alert alert-danger">
                                    <%= message %>
                                </div>
                                <% } %> -->
                              <div style="width: 100%;" id="FormSignUp">
                                    <div class="form-group col-md-12">                                 
                                       <label for="exampleInputEmail3">Tài Khoản</label>
                                       <input name="email" type="email" class="form-control mb-0 btn-border" id="email" placeholder="Enter email" autocomplete="off" required>             
                                    </div>
                                    <div class="form-group col-md-12">
                                       <label for="exampleInputEmail6">Mật Khẩu</label>
                                       <input type="password" name="password" class="form-control mb-0 btn-border" id="exampleInputEmail6" placeholder="Password" autocomplete="off" required>             
                                    </div>
                                    <div class="form-group col-md-12">
                                       <button  style="width: 100%;" type="button" id="btnSendEmail" class="btn btn-primary my-2">Đăng Ký</button>       
                                    </div>
                               </div>
                           <div class="form-group col-md-12" id="FormVerify">
                              <div class="container2">
                                 <h2>Verify Email</h2>
                                 <p id="message-send-mail">
                                 </p>
                                 <div class="code-container">
                                   <input id="vitri1"
                                     type="number"
                                     class="code"
                                     placeholder="0"
                                     min="0"
                                     max="9"
                                     required
                                   />
                                   <input id="vitri2"
                                     type="number"
                                     class="code"
                                     placeholder="0"
                                     min="0"
                                     max="9"
                                     required
                                   />
                                   <input id="vitri3"
                                     type="number"
                                     class="code"
                                     placeholder="0"
                                     min="0"
                                     max="9"
                                     required
                                   />
                                   <input id="vitri4"
                                     type="number"
                                     class="code"
                                     placeholder="0"
                                     min="0"
                                     max="9"
                                     required
                                   />
                                   <input id="vitri5"
                                     type="number"
                                     class="code"
                                     placeholder="0"
                                     min="0"
                                     max="9"
                                     required
                                   />
                                   <input id="vitri6"
                                     type="number"
                                     class="code"
                                     placeholder="0"
                                     min="0"
                                     max="9"
                                     required
                                   />
                                 </div>
                                 <p id="message"></p>
                                 <small id="btnInfo" style="width: 100%;" class="info">
                                   
                                    <button  style="width: 100%;" id="btnFormVerify" type="button" class="btn btn-primary my-2">Xác thực</button>
                                    <!-- <button  style="width: 100%;" type="submit" class="btn btn-primary my-2">Hoàn Thành Đăng Ký</button>  -->
                                 </small>
                                 <small id="btnSucces" style="width: 100%;" class="info">
                                    <button  style="width: 100%;" type="submit" class="btn btn-primary my-2">Hoàn Thành Đăng Ký</button> 
                                 </small>
                               </div>
                           </div>
                              
                           </form>
                                          
                                                  
                        </div>
                     </div>    
                     <div class="mt-3">
                        <div class="d-flex justify-content-center links">
                           Đã tài khoản? <a href="login.html" class="text-primary ml-2">Đăng Nhập</a>
                        </div>                        
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </section>
      <style>
         .container2 {
            margin: 10px;
  border-radius: 10px;
  max-width: 100%;
  text-align: center;
}

.code-container {
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 40px 0;
}

.code {
  border-radius: 5px;
  font-size: 75px;
  height: 120px;
  width: 100px;
  border: 1px solid #eee;
  margin: 1%;
  text-align: center;
  font-weight: 300;
  -moz-appearance: textfield;
}

.code::-webkit-outer-spin-button,
.code::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

.code:valid {
  border-color: #3498db;
  box-shadow: 0 10px 10px -5px rgba(0, 0, 0, 0.25);
}

.info {
  background-color: #eaeaea;
  display: inline-block;
  padding: 10px;
  line-height: 20px;
  max-width: 400px;
  color: #777;
  border-radius: 5px;
}

@media (max-width: 600px) {
  .code-container {
    flex-wrap: wrap;
  }

  .code {
    font-size: 60px;
    height: 80px;
    max-width: 70px;
  }
}

      </style>
       <script src="jquery.js"></script>
       <script src="/socket.io/socket.io.js"></script>
    <script>
      var socket = io("http://localhost:3000");
       $(document).ready(function(){
         $("#btnSucces").hide()
         $("#FormVerify").hide()
       socket.on("server-send-Verify",function(data){
         if(data.message == "Done"){
            $("#message").html(`<h6>Xác minh thành công</h6>`) 
              $("#btnInfo").hide()
              $("#btnSucces").show()
         }
         if(data.message == "Fail"){
              $("#message").html(`<h6>Mã xác minh không chính xác</h6>`)   
         }
       })
       $("#btnFormVerify").click(function(){
         var email = $("#email").val()
          const VerifyCode = $("#vitri1").val()+$("#vitri2").val()+$("#vitri3").val()+$("#vitri4").val()+$("#vitri5").val()+$("#vitri6").val()
          socket.emit("Client-send-Verify-code",{data:VerifyCode,email:email})
       })
       
          $("#btnSendEmail").click(function(){
            var email = $("#email").val()
            socket.emit("Client-send-mail",{data:email})
            $("#FormSignUp").hide()
            $("#FormVerify").show()
            
          })
       })
       
    
       const codes = document.querySelectorAll('.code');

codes[0].focus();

codes.forEach((code, idx) => {
  code.addEventListener('keydown', (e) => {
    if (e.key >= 0 && e.key <= 9) {
      codes[idx].value = '';
      setTimeout(() => codes[idx + 1].focus(), 10);
    } else if (e.key === 'Backspace') {
      setTimeout(() => codes[idx - 1].focus(), 10);
    }
  });
});
    </script>
      <!-- Optional JavaScript -->
      <!-- jQuery first, then Popper.js, then Bootstrap JS -->
      <script src="assets/js/jquery.min.js"></script>
      <script src="assets/js/popper.min.js"></script>
      <script src="assets/js/bootstrap.min.js"></script>
      <!-- Appear JavaScript -->
      <script src="assets/js/jquery.appear.js"></script>
      <!-- Countdown JavaScript -->
      <script src="assets/js/countdown.min.js"></script>
      <!-- Counterup JavaScript -->
      <script src="assets/js/waypoints.min.js"></script>
      <script src="assets/js/jquery.counterup.min.js"></script>
      <!-- Wow JavaScript -->
      <script src="assets/js/wow.min.js"></script>
      <!-- Slick JavaScript -->
      <script src="assets/js/slick.min.js"></script>
      <!-- Owl Carousel JavaScript -->
      <script src="assets/js/owl.carousel.min.js"></script>
      <!-- Magnific Popup JavaScript -->
      <script src="assets/js/jquery.magnific-popup.min.js"></script>
      <!-- Smooth Scrollbar JavaScript -->
      <script src="assets/js/smooth-scrollbar.js"></script>
      <!-- Chart Custom JavaScript -->
      <script src="assets/js/chart-custom.js"></script>
      <!-- Custom JavaScript -->
      <script src="assets/js/custom.js"></script>
<script src="assets/js/rtl.js"></script>
   </body>
</html>